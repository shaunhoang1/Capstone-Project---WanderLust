<html>
  <head>
    <title>Changing the Sky</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent("button-interaction-handler", {
        init: function () {
          var skyEl = this.el.sceneEl.querySelector("#background");

          this.el.addEventListener("mouseenter", function () {
            skyEl.setAttribute("src", "#beach");
          });

          this.el.addEventListener("mouseleave", function () {
            skyEl.setAttribute("src", "#lake");
          });
          var clickEl = this.el.sceneEl.querySelector("#clicktest");
          this.el.addEventListener("click", function () {
            clickEl.setAttribute("src", "#sunset");
            console.log("You clicked me");
          });
        },
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="lake" crossorigin="anonymous" src="img/pic1.jpg" />
        <img id="beach" crossorigin="anonymous" src="img/pic2.jpg" />
        <img id="sunset" crossorigin="anonymous" src="img/pic3.jpg" />
      </a-assets>

      <a-sky id="background" src="#lake"></a-sky>

      <!--
        Since this is inside the plane, the text position is relative to the plane's position
        If we use the property align wisely, we don't need to experiment with position.
      -->
      <a-plane
        button-interaction-handler
        position="3 3 -9"
        height="2"
        width="5"
        color="#E21D2D"
        position="0 0 -4"
      >
        <a-text value="Hover this" scale="2 2 2" align="center"></a-text>
      </a-plane>

      <a-plane
        button-interaction-handler
        position="10 3 -9"
        height="2"
        width="5"
        color="#E21D2D"
        position="0 0 -4"
        id="clicktest"
      >
        <a-text value="Click this" scale="2 2 2" align="center"></a-text>
      </a-plane>

      <!-- Camera and Cursor. -->
      <a-camera>
        <a-cursor color="#11D8C4" fuse="true" timeout="10"></a-cursor>
      </a-camera>

      <!-- Controllers. -->
      <a-entity laser-controls="hand: right"></a-entity>

      <!--Moving box-->
      <a-entity position="0 4 0">
        <a-box color="#FFAA00" position="0 0.5 0">
          <a-animation
            attribute="rotation"
            to="0 -360 0"
            repeat="indefinite"
            dur="5000"
            easing="linear"
          >
          </a-animation>
        </a-box>
      </a-entity>
    </a-scene>
  </body>
</html>
